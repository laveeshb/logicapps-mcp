{
  "$schema": "https://developer.microsoft.com/json-schemas/copilot/plugin/v2.1/schema.json",
  "schema_version": "v2.1",
  "name_for_human": "Logic Apps Assistant",
  "name_for_model": "logicAppsAssistant",
  "description_for_human": "Troubleshoot and manage Azure Logic Apps workflows",
  "description_for_model": "This plugin helps users investigate and manage their Azure Logic Apps workflows. It can list subscriptions, list Logic Apps, find failed runs, and help debug workflow issues. Use this plugin when users ask about their Logic Apps, workflow runs, or need help troubleshooting failures.",
  "logo_url": "https://raw.githubusercontent.com/laveeshb/logicapps-mcp/main/docs/images/logo.png",
  "legal_info_url": "https://github.com/laveeshb/logicapps-mcp",
  "privacy_policy_url": "https://github.com/laveeshb/logicapps-mcp",
  "functions": [
    {
      "name": "testAuthentication",
      "description": "Test authentication and verify API access. Returns list of accessible Azure subscriptions.",
      "capabilities": {
        "response_semantics": {
          "data_path": "$.subscriptions",
          "properties": {
            "title": "$.displayName",
            "subtitle": "$.id"
          }
        }
      }
    },
    {
      "name": "listSubscriptions",
      "description": "List all Azure subscriptions accessible to the user.",
      "capabilities": {
        "response_semantics": {
          "data_path": "$.subscriptions",
          "properties": {
            "title": "$.displayName",
            "subtitle": "$.id"
          }
        }
      }
    },
    {
      "name": "listLogicApps",
      "description": "List Logic Apps in a specific Azure subscription. Requires subscriptionId parameter.",
      "capabilities": {
        "response_semantics": {
          "data_path": "$.logicApps",
          "properties": {
            "title": "$.name",
            "subtitle": "$.type"
          }
        }
      }
    },
    {
      "name": "getFailedRuns",
      "description": "Get recent failed workflow runs for a Logic App. Requires subscriptionId, resourceGroup, and logicAppName. Optionally specify workflowName for Standard Logic Apps and hours to look back.",
      "capabilities": {
        "response_semantics": {
          "data_path": "$.failedRuns",
          "properties": {
            "title": "$.name",
            "subtitle": "$.status"
          }
        }
      }
    }
  ],
  "runtimes": [
    {
      "type": "OpenApi",
      "auth": {
        "type": "OAuthPluginVault",
        "reference_id": "${{OAUTH_REGISTRATION_ID}}"
      },
      "spec": {
        "url": "openapi.yaml"
      },
      "run_for_functions": ["testAuthentication", "listSubscriptions", "listLogicApps", "getFailedRuns"]
    }
  ]
}
